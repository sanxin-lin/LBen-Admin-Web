var Je=Object.defineProperty,Ye=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var ce=(e,n,a)=>n in e?Je(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,P=(e,n)=>{for(var a in n||(n={}))le.call(n,a)&&ce(e,a,n[a]);if(W)for(var a of W(n))ue.call(n,a)&&ce(e,a,n[a]);return e},k=(e,n)=>Ye(e,Ze(n));var L=(e,n)=>{var a={};for(var t in e)le.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&W)for(var t of W(e))n.indexOf(t)<0&&ue.call(e,t)&&(a[t]=e[t]);return a};var A=(e,n,a)=>new Promise((t,s)=>{var r=i=>{try{o(a.next(i))}catch(l){s(l)}},c=i=>{try{o(a.throw(i))}catch(l){s(l)}},o=i=>i.done?t(i.value):Promise.resolve(i.value).then(r,c);o((a=a.apply(e,n)).next())});import{o as Qe,r as g,C as ae,t as R,S as et,au as tt,B as nt,av as st,aw as at,ax as we,F as rt,D as ot,ay as de,U as it,az as ct,aA as je,aB as lt,ad as ut,c as dt,X as pe,aC as fe,P as Q,aD as pt,aE as ft,$ as ht,aF as mt,R as K,aG as X,aH as Ie,_ as xt,a as J,j as u,aI as he,m as vt,Z as me,g as Oe,aj as F,aJ as gt,an as Ct,aK as Et,aL as Pe,ap as bt,aM as xe,e as ke,aN as re,V as $e,l as Tt,aO as yt,aP as Nt,a2 as Me}from"./entry/index-Dbo3_afc-1721993229481.js";import{u as St,a as ve}from"./uniqueId-qqMk_9BJ.js";import{I as M,a as ge,u as wt}from"./IconPicker-CgkkXBkI.js";import{D as jt}from"./index-imtmciXT.js";import{b as It,g as Ce,P as Ot,M as Pt,u as kt,T as $t}from"./index-CqkgspeZ.js";import{u as V}from"./useLocale-DOr0Jbh6.js";import{L as Mt}from"./logo-BtKfUar_.js";import{a as Rt}from"./useMenuSetting-Bic0zQ6z.js";import{u as Y}from"./useDesign-mHzxmH92.js";import{u as Lt}from"./useRootSetting-D6paKIVO.js";import{a as ee}from"./debounce-Cvb0dSk9.js";import{I as At}from"./index-CoxTFKUG.js";import{R as Re}from"./index-CWIbJN71.js";const Dt=e=>{const{componentCls:n,iconCls:a,antCls:t,zIndexPopup:s,colorText:r,colorWarning:c,marginXXS:o,marginXS:i,fontSize:l,fontWeightStrong:p,colorTextHeading:d}=e;return{[n]:{zIndex:s,[`&${t}-popover`]:{fontSize:l},[`${n}-message`]:{marginBottom:i,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${a}`]:{color:c,fontSize:l,lineHeight:1,marginInlineEnd:i},[`${n}-title`]:{fontWeight:p,color:d,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:o,color:r}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:i}}}}},_t=e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}},Le=Qe("Popconfirm",e=>Dt(e),_t,{resetStyle:!1});var Kt=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(a[t[s]]=e[t[s]]);return a};const Ae=e=>{const{prefixCls:n,okButtonProps:a,cancelButtonProps:t,title:s,description:r,cancelText:c,okText:o,okType:i="primary",icon:l=g.createElement(we,null),showCancel:p=!0,close:d,onConfirm:x,onCancel:T,onPopupClick:h}=e,{getPrefixCls:N}=g.useContext(ae),[v]=et("Popconfirm",tt.Popconfirm),w=Ce(s),S=Ce(r);return g.createElement("div",{className:`${n}-inner-content`,onClick:h},g.createElement("div",{className:`${n}-message`},l&&g.createElement("span",{className:`${n}-message-icon`},l),g.createElement("div",{className:`${n}-message-text`},w&&g.createElement("div",{className:R(`${n}-title`)},w),S&&g.createElement("div",{className:`${n}-description`},S))),g.createElement("div",{className:`${n}-buttons`},p&&g.createElement(nt,Object.assign({onClick:T,size:"small"},t),c||(v==null?void 0:v.cancelText)),g.createElement(st,{buttonProps:Object.assign(Object.assign({size:"small"},at(i)),a),actionFn:x,close:d,prefixCls:N("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},o||(v==null?void 0:v.okText))))},Bt=e=>{const{prefixCls:n,placement:a,className:t,style:s}=e,r=Kt(e,["prefixCls","placement","className","style"]),{getPrefixCls:c}=g.useContext(ae),o=c("popconfirm",n),[i]=Le(o);return i(g.createElement(It,{placement:a,className:R(o,t),style:s,content:g.createElement(Ae,Object.assign({prefixCls:o},r))}))};var Ut=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(a[t[s]]=e[t[s]]);return a};const zt=g.forwardRef((e,n)=>{var a,t;const{prefixCls:s,placement:r="top",trigger:c="click",okType:o="primary",icon:i=g.createElement(we,null),children:l,overlayClassName:p,onOpenChange:d,onVisibleChange:x}=e,T=Ut(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:h}=g.useContext(ae),[N,v]=rt(!1,{value:(a=e.open)!==null&&a!==void 0?a:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),w=(m,E)=>{v(m,!0),x==null||x(m),d==null||d(m,E)},S=m=>{w(!1,m)},j=m=>{var E;return(E=e.onConfirm)===null||E===void 0?void 0:E.call(void 0,m)},O=m=>{var E;w(!1,m),(E=e.onCancel)===null||E===void 0||E.call(void 0,m)},f=(m,E)=>{const{disabled:I=!1}=e;I||w(m,E)},C=h("popconfirm",s),b=R(C,p),[y]=Le(C);return y(g.createElement(Ot,Object.assign({},ot(T,["title"]),{trigger:c,placement:r,onOpenChange:f,open:N,ref:n,overlayClassName:b,content:g.createElement(Ae,Object.assign({okType:o,icon:i},e,{prefixCls:C,close:S,onConfirm:j,onCancel:O})),"data-popover-inject":!0}),l))}),De=zt;De._InternalPanelDoNotUseOrYouWillBeFired=Bt;var Gt=/(mac|iphone|ipod|ipad)/i.test(typeof navigator!="undefined"?navigator==null?void 0:navigator.platform:""),_e={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,meta:Gt?[91,93]:[91,92],selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,comma:188,dash:189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},te={ctrl:function(e){return e.ctrlKey},shift:function(e){return e.shiftKey},alt:function(e){return e.altKey},meta:function(e){return e.type==="keyup"?_e.meta.includes(e.keyCode):e.metaKey}};function Ke(e){return ct(e)||je(e)}function Ht(e){var n=Object.keys(te).reduce(function(a,t){return te[t](e)?a+1:a},0);return[16,17,18,91,92].includes(e.keyCode)?n:n+1}function Ee(e,n,a){var t,s;if(!e.key)return!1;if(je(n))return e.keyCode===n?n:!1;var r=n.split("."),c=0;try{for(var o=ee(r),i=o.next();!i.done;i=o.next()){var l=i.value,p=te[l],d=_e[l.toLowerCase()];(p&&p(e)||d&&d===e.keyCode)&&c++}}catch(x){t={error:x}}finally{try{i&&!i.done&&(s=o.return)&&s.call(o)}finally{if(t)throw t.error}}return a?c===r.length&&Ht(e)===r.length?n:!1:c===r.length?n:!1}function Vt(e,n){return lt(e)?e:Ke(e)?function(a){return Ee(a,e,n)}:Array.isArray(e)?function(a){return e.find(function(t){return Ee(a,t,n)})}:function(){return!!e}}var Wt=["keydown"];function q(e,n,a){var t={},s=t.events,r=s===void 0?Wt:s,c=t.target,o=t.exactMatch,i=o===void 0?!1:o,l=t.useCapture,p=l===void 0?!1:l,d=de(n),x=de(e);St(function(){var T,h,N,v=it(c,window);if(v){var w=function(f){var C,b=Vt(x.current,i),y=b(f),m=Ke(y)?y:f.key;if(y)return(C=d.current)===null||C===void 0?void 0:C.call(d,f,m)};try{for(var S=ee(r),j=S.next();!j.done;j=S.next()){var O=j.value;(N=v==null?void 0:v.addEventListener)===null||N===void 0||N.call(v,O,w,p)}}catch(f){T={error:f}}finally{try{j&&!j.done&&(h=S.return)&&h.call(S)}finally{if(T)throw T.error}}return function(){var f,C,b;try{for(var y=ee(r),m=y.next();!m.done;m=y.next()){var E=m.value;(b=v==null?void 0:v.removeEventListener)===null||b===void 0||b.call(v,E,w,p)}}catch(I){f={error:I}}finally{try{m&&!m.done&&(C=y.return)&&C.call(y)}finally{if(f)throw f.error}}}}},[r],c)}const be=ut.multiTabsSetting.cache,Xt=dt((e,n)=>({cacheTabIds:new Set,tabs:be?pe.getLocal(fe)||[]:[],lastDragEndIndex:0,currentTabId:"",refreshKey:ve(),updateRefreshKey(){e({refreshKey:ve()})},getCachedTabList(){return Array.from(n().cacheTabIds)},getCurrentTab(){var s;const{currentTabId:a,tabs:t}=n();return(s=t.find(r=>r.id===a))!=null?s:null},updateCacheTab(){var s;const{tabs:a}=n(),t=new Set;for(const r of a){if(!!((s=r.handle)!=null&&s.ignoreKeepAlive))continue;const o=r.id;t.add(o)}e({cacheTabIds:t})},clearCacheTabs(){e({cacheTabIds:new Set})},updateCurrentTabId(a){e({currentTabId:a})},addTab(a){const{path:t,id:s}=a,{tabs:r,updateCurrentTabId:c}=n();if(t===Q.ERROR_PAGE||t===Q.BASE_LOGIN||!s||[pt.id,ft.id].includes(s))return;const o=r.findIndex(i=>i.id===s);if(o!==-1){const i=r[o];if(!i)return;c(i.id)}else e({tabs:[...r,a]}),c(a.id);be&&pe.setLocal(fe,[...r,a])},resetState(){e({tabs:[],cacheTabIds:new Set})},closeTab(a,t){const{tabs:s,updateCacheTab:r,currentTabId:c}=n();if(!a)return;const{handle:o}=a;if(o.affix)return;const i=s.filter(l=>l.id!==a.id);if(e({tabs:i}),r(),a.id===c){const l=s.findIndex(x=>x.id===x.id),p=l===0?0:l-1,d=i[p];if(!d)return;t(d.path)}},closeTabById(a,t){const{closeTab:s,tabs:r}=n(),c=r.find(o=>o.id===a);c&&s(c,t)},closeLeftTabs(a){const{tabs:t,updateCacheTab:s,currentTabId:r}=n(),c=t.findIndex(l=>l.id===r),o=t.findIndex(l=>l.id===a.id);if(o===0||c!==o)return;const i=t.filter((l,p)=>p>=o&&!l.handle.affix);e({tabs:i}),s()},closeRightTabs(a){const{tabs:t,updateCacheTab:s,currentTabId:r}=n(),c=t.findIndex(l=>l.id===r),o=t.findIndex(l=>l.id===a.id);if(o===t.length||c!==o)return;const i=t.filter((l,p)=>p<=o&&!l.handle.affix);e({tabs:i}),s()},closeOtherTabs(a){const{tabs:t,updateCacheTab:s,currentTabId:r}=n(),c=t.findIndex(l=>l.id===r),o=t.findIndex(l=>l.id===a.id);if(c!==o)return;const i=t.filter((l,p)=>p===o&&!l.handle.affix);e({tabs:i}),s()},closeAllTab(){const{tabs:a}=n();e({tabs:a.filter(t=>{var s,r;return(r=(s=t==null?void 0:t.handle)==null?void 0:s.affix)!=null?r:!1}),cacheTabIds:new Set})}})),In=()=>Xt(ht(e=>({updateCacheTab:e.updateCacheTab,addTab:e.addTab,updateCurrentTabId:e.updateCurrentTabId,closeAllTab:e.closeAllTab,updateRefreshKey:e.updateRefreshKey,closeTab:e.closeTab,closeLeftTabs:e.closeLeftTabs,closeRightTabs:e.closeRightTabs,closeOtherTabs:e.closeOtherTabs,closeTabById:e.closeTabById,resetState:e.resetState})));function Be(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,mt(e,n)}function Ft(e,n){return e.classList?!!n&&e.classList.contains(n):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")!==-1}function qt(e,n){e.classList?e.classList.add(n):Ft(e,n)||(typeof e.className=="string"?e.className=e.className+" "+n:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+n))}function Te(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Jt(e,n){e.classList?e.classList.remove(n):typeof e.className=="string"?e.className=Te(e.className,n):e.setAttribute("class",Te(e.className&&e.className.baseVal||"",n))}const ye={disabled:!1},Ue=K.createContext(null);var ze=function(n){return n.scrollTop},H="unmounted",D="exited",_="entering",G="entered",ne="exiting",$=function(e){Be(n,e);function n(t,s){var r;r=e.call(this,t,s)||this;var c=s,o=c&&!c.isMounting?t.enter:t.appear,i;return r.appearStatus=null,t.in?o?(i=D,r.appearStatus=_):i=G:t.unmountOnExit||t.mountOnEnter?i=H:i=D,r.state={status:i},r.nextCallback=null,r}n.getDerivedStateFromProps=function(s,r){var c=s.in;return c&&r.status===H?{status:D}:null};var a=n.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(s){var r=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==_&&c!==G&&(r=_):(c===_||c===G)&&(r=ne)}this.updateStatus(!1,r)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var s=this.props.timeout,r,c,o;return r=c=o=s,s!=null&&typeof s!="number"&&(r=s.exit,c=s.enter,o=s.appear!==void 0?s.appear:c),{exit:r,enter:c,appear:o}},a.updateStatus=function(s,r){if(s===void 0&&(s=!1),r!==null)if(this.cancelNextCallback(),r===_){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:X.findDOMNode(this);c&&ze(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===D&&this.setState({status:H})},a.performEnter=function(s){var r=this,c=this.props.enter,o=this.context?this.context.isMounting:s,i=this.props.nodeRef?[o]:[X.findDOMNode(this),o],l=i[0],p=i[1],d=this.getTimeouts(),x=o?d.appear:d.enter;if(!s&&!c||ye.disabled){this.safeSetState({status:G},function(){r.props.onEntered(l)});return}this.props.onEnter(l,p),this.safeSetState({status:_},function(){r.props.onEntering(l,p),r.onTransitionEnd(x,function(){r.safeSetState({status:G},function(){r.props.onEntered(l,p)})})})},a.performExit=function(){var s=this,r=this.props.exit,c=this.getTimeouts(),o=this.props.nodeRef?void 0:X.findDOMNode(this);if(!r||ye.disabled){this.safeSetState({status:D},function(){s.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:ne},function(){s.props.onExiting(o),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:D},function(){s.props.onExited(o)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(s,r){r=this.setNextCallback(r),this.setState(s,r)},a.setNextCallback=function(s){var r=this,c=!0;return this.nextCallback=function(o){c&&(c=!1,r.nextCallback=null,s(o))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},a.onTransitionEnd=function(s,r){this.setNextCallback(r);var c=this.props.nodeRef?this.props.nodeRef.current:X.findDOMNode(this),o=s==null&&!this.props.addEndListener;if(!c||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],l=i[0],p=i[1];this.props.addEndListener(l,p)}s!=null&&setTimeout(this.nextCallback,s)},a.render=function(){var s=this.state.status;if(s===H)return null;var r=this.props,c=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var o=Ie(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return K.createElement(Ue.Provider,{value:null},typeof c=="function"?c(s,o):K.cloneElement(K.Children.only(c),o))},n}(K.Component);$.contextType=Ue;$.propTypes={};function z(){}$.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:z,onEntering:z,onEntered:z,onExit:z,onExiting:z,onExited:z};$.UNMOUNTED=H;$.EXITED=D;$.ENTERING=_;$.ENTERED=G;$.EXITING=ne;var Yt=function(n,a){return n&&a&&a.split(" ").forEach(function(t){return qt(n,t)})},Z=function(n,a){return n&&a&&a.split(" ").forEach(function(t){return Jt(n,t)})},oe=function(e){Be(n,e);function n(){for(var t,s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,t.appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(o,i){var l=t.resolveArguments(o,i),p=l[0],d=l[1];t.removeClasses(p,"exit"),t.addClass(p,d?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(o,i)},t.onEntering=function(o,i){var l=t.resolveArguments(o,i),p=l[0],d=l[1],x=d?"appear":"enter";t.addClass(p,x,"active"),t.props.onEntering&&t.props.onEntering(o,i)},t.onEntered=function(o,i){var l=t.resolveArguments(o,i),p=l[0],d=l[1],x=d?"appear":"enter";t.removeClasses(p,x),t.addClass(p,x,"done"),t.props.onEntered&&t.props.onEntered(o,i)},t.onExit=function(o){var i=t.resolveArguments(o),l=i[0];t.removeClasses(l,"appear"),t.removeClasses(l,"enter"),t.addClass(l,"exit","base"),t.props.onExit&&t.props.onExit(o)},t.onExiting=function(o){var i=t.resolveArguments(o),l=i[0];t.addClass(l,"exit","active"),t.props.onExiting&&t.props.onExiting(o)},t.onExited=function(o){var i=t.resolveArguments(o),l=i[0];t.removeClasses(l,"exit"),t.addClass(l,"exit","done"),t.props.onExited&&t.props.onExited(o)},t.resolveArguments=function(o,i){return t.props.nodeRef?[t.props.nodeRef.current,o]:[o,i]},t.getClassNames=function(o){var i=t.props.classNames,l=typeof i=="string",p=l&&i?i+"-":"",d=l?""+p+o:i[o],x=l?d+"-active":i[o+"Active"],T=l?d+"-done":i[o+"Done"];return{baseClassName:d,activeClassName:x,doneClassName:T}},t}var a=n.prototype;return a.addClass=function(s,r,c){var o=this.getClassNames(r)[c+"ClassName"],i=this.getClassNames("enter"),l=i.doneClassName;r==="appear"&&c==="done"&&l&&(o+=" "+l),c==="active"&&s&&ze(s),o&&(this.appliedClasses[r][c]=o,Yt(s,o))},a.removeClasses=function(s,r){var c=this.appliedClasses[r],o=c.base,i=c.active,l=c.done;this.appliedClasses[r]={},o&&Z(s,o),i&&Z(s,i),l&&Z(s,l)},a.render=function(){var s=this.props;s.classNames;var r=Ie(s,["classNames"]);return K.createElement($,xt({},r,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(K.Component);oe.defaultProps={classNames:""};oe.propTypes={};const Zt=e=>{const T=e,{popconfirm:n,trigger:a=["contextMenu"],dropMenuList:t=[],selectedKeys:s=[],children:r,menuEvent:c}=T,i=L(T,["popconfirm","trigger","dropMenuList","selectedKeys","children","menuEvent"]),l=h=>{var w;const{event:N}=h,v=t.find(S=>`${S.event}`==`${N}`);c==null||c(v),(w=h.onClick)==null||w.call(h)},p=h=>{const N=u.jsxs("div",{children:[h.icon&&u.jsx(M,{icon:h.icon}),u.jsx("span",{className:"ml-1",children:h.text})]});let v;return n&&h.popConfirm?v=u.jsx(De,k(P({},i),{disabled:h.disabled,icon:h.popConfirm.icon,children:N})):v=N,v=u.jsxs(u.Fragment,{children:[v,h.divider&&u.jsx(Pt.Divider,{})]}),v},d=t.map(h=>({label:p(h),onClick:N=>{N.domEvent.stopPropagation(),l(h)},disabled:h.disabled,key:h.event})),x=J(()=>({selectedKeys:s,items:d}),[d,s]);return u.jsx(jt,k(P({trigger:a},i),{menu:x,children:u.jsx("span",{children:r})}))},Qt=e=>{const{showText:n=!0,reload:a,className:t=""}=e,[s,r]=g.useState([]),{changeLocale:c,locale:o}=V(),i=J(()=>{var x;const d=s[0];return d?(x=he.find(T=>T.event===d))==null?void 0:x.text:""},[s]);g.useEffect(()=>{r([o])},[o]);const l=d=>A(void 0,null,function*(){yield c(d),r([d]),a&&location.reload()}),p=d=>{o!==d.event&&l(d.event)};return u.jsx(Zt,{placement:"bottom",trigger:["click"],dropMenuList:he,selectedKeys:s,menuEvent:p,overlayClassName:"app-locale-picker-overlay",className:t,children:u.jsxs("span",{className:"cursor-pointer flex items-center",children:[u.jsx(M,{icon:"ion:language"}),n&&u.jsx("span",{className:"ml-1",children:i})]})})},en=e=>{const N=e,{theme:n="",showTitle:a=!0,alwaysShowTitle:t=!1,className:s=""}=N,r=L(N,["theme","showTitle","alwaysShowTitle","className"]),{collapsedShowTitle:c}=Rt(),{prefixCls:o}=Y("app-logo"),{title:i}=vt(),l=me(v=>v.getToken()),p=me(v=>v.getUserInfo()),d=Oe(),x=R(`anticon ${o} ${n} ${s}`,{"collapsed-show-title":c}),T=R(`ml-2 truncate md:opacity-100 ${o}__title`,{"xs:opacity-0":!t,hidden:!a}),h=()=>{l&&d(p.homePath||Q.BASE_HOME)};return u.jsxs("div",k(P({},r),{className:x,onClick:h,children:[u.jsx("img",{src:Mt}),u.jsx("div",{className:T,children:i})]}))},tn=e=>{const T=e,{className:n=""}=T,a=L(T,["className"]),{prefixCls:t}=Y("dark-switch"),{themeMode:s,setThemeMode:r,showThemeModeToggle:c,updateHeaderBgColor:o,updateRootTheme:i,updateSidebarBgColor:l}=Lt(),p=s===F.DARK,d=R(`${t} ${n}`,{[`${t}--dark`]:p});function x(){const h=s===F.DARK?F.LIGHT:F.DARK;r(h),i(h),o({themeMode:h}),l({themeMode:h})}return u.jsx(u.Fragment,{children:c&&u.jsxs("div",k(P({},a),{className:d,onClick:x,children:[u.jsx("div",{className:`${t}-inner`}),u.jsx(ge,{size:"14",name:"sun"}),u.jsx(ge,{size:"14",name:"moon"})]}))})},nn=e=>{const{children:n,to:a}=e;return gt.createPortal(n,a)},Ne=e=>J(()=>Ct(e)?{}:e?{}:{display:"none"},[e]),sn=()=>{const e=g.useRef([]);return e.current=[],{refs:e,setRefs:a=>t=>{e.current[a]=t}}},an=e=>{const r=e,{className:n}=r,a=L(r,["className"]),{prefixCls:t}=Y("app-search-footer"),{t:s}=V();return u.jsxs("div",k(P({},a),{className:`${t} ${n}`,children:[u.jsx(M,{className:`${t}-item`,icon:"ant-design:enter-outlined"}),u.jsx("span",{children:s("component.app.toSearch")}),u.jsx(M,{className:`${t}-item`,icon:"ion:arrow-up-outline"}),u.jsx(M,{className:`${t}-item`,icon:"ion:arrow-down-outline"}),u.jsx("span",{children:s("component.app.toNavigate")}),u.jsx(M,{className:`${t}-item`,icon:"mdi:keyboard-esc"}),u.jsx("span",{children:s("common.closeText")})]}))},Se=Object.assign({}),se=[];Object.keys(Se).forEach(e=>{const n=Se[e].default||{},a=Array.isArray(n)?[...n]:[n];se.push(...a)});const ie=()=>$e.getState().getProjectConfig().permissionMode,Ge=()=>ke.getState().routerList,rn=()=>ie()===re.BACK,on=()=>ie()===re.ROUTE_MAPPING,He=()=>ie()===re.ROLE,Ve=[];(()=>{se.sort((e,n)=>(e.orderNo||0)-(n.orderNo||0));for(const e of se)Ve.push(Et(e))})();function We(){return A(this,null,function*(){const e=ke.getState(),n=a=>a.filter(t=>{var r;const s=!((r=t.meta)!=null&&r.hideMenu)&&!t.hideMenu;return s&&t.children&&(t.children=n(t.children)),s});return rn()?n(e.backMenuList):on()?n(e.frontMenuList):Ve})}const cn=()=>A(void 0,null,function*(){const e=yield We();if(He()){const n=Ge();return Pe(e,Xe(n))}return e});function On(){return A(this,null,function*(){const n=(yield We()).map(a=>k(P({},a),{children:void 0}));if(He()){const a=Ge();return n.filter(Xe(a))}return n})}function Xe(e){return n=>{const a=e.find(t=>{var r,c;if(bt(n.path))return!0;if((r=t.handle)!=null&&r.carryParam)return xe(t.handle).test(n.path);const s=t.path===n.path;return s?(c=t.handle)!=null&&c.ignoreAuth?!0:s||xe(t.path).test(n.path):!1});return a?(n.icon=n.icon||a.handle.icon,n.handle=a.handle,!0):!1}}function ln(e){return["$","(",")","*","+",".","[","]","?","\\","^","{","}","|"].includes(e)?`\\${e}`:e}function un(e){const a=["",...[...e].map(t=>ln(t)),""].join(".*");return new RegExp(a)}function dn(e,n,a){const[t,s]=g.useState([]),[r,c]=g.useState(""),[o,i]=g.useState(-1);let l=[];const{t:p}=V(),d=Oe(),{run:x}=kt(T,{wait:200});Tt(()=>A(this,null,function*(){const f=yield cn();l=yt(f),Nt(l,C=>{var b;C.name=p(((b=C.handle)==null?void 0:b.title)||C.name)})}));function T(f){f==null||f.stopPropagation();const C=f.target.value,b=C.trim();if(c(b),!C){s([]);return}const y=un(b),m=Pe(l,E=>{var I;return y.test((I=E.name)==null?void 0:I.toLowerCase())&&!E.hidden});s(h(m,y)),i(0)}function h(f,C,b){const y=[];return f.forEach(m=>{const{name:E,path:I,icon:Fe,children:B,hidden:qe,handle:U}=m;!qe&&C.test(E==null?void 0:E.toLowerCase())&&(!(B!=null&&B.length)||U!=null&&U.hideChildrenInMenu)&&y.push({name:b!=null&&b.name?`${b.name} > ${E}`:E,path:I,icon:Fe}),!(U!=null&&U.hideChildrenInMenu)&&Array.isArray(B)&&B.length&&y.push(...h(B,C,m))}),y}function N(f){const C=f.target.dataset.index;i(Number(C))}function v(){if(!t.length)return;let f=o;f--,f<0&&(f=t.length-1),i(f),S()}function w(){if(!t.length)return;let f=o;f++,f>t.length-1&&(f=0),i(f),S()}function S(){const f=e;if(!f||!Array.isArray(f)||f.length===0||!n)return;const b=f[o];if(!b)return;const y=n;if(!y.current)return;const m=b.offsetTop+b.offsetHeight,E=y.current.offsetHeight,{start:I}=wt({el:y,duration:100,to:m-E});I()}function j(){return A(this,null,function*(){if(!t.length)return;const f=t,C=o;if(f.length===0||C<0)return;const b=f[C];O(),yield Me(),d(b.path)})}function O(){s([]),a==null||a()}return q("enter",j),q("uparrow",v),q("downarrow",w),q("esc",O),{handleSearch:x,searchResult:t,keyword:r,activeIndex:o,handleMouseenter:N,handleEnter:j,handleClose:O}}const pn=e=>{const y=e,{className:n,visible:a,onClose:t}=y,s=L(y,["className","visible","onClose"]),r=g.useRef(null),c=g.useRef(null),{t:o}=V(),{prefixCls:i}=Y("app-search-modal"),l=$e(m=>m.isMobile),{refs:p,setRefs:d}=sn(),{handleSearch:x,searchResult:T,keyword:h,activeIndex:N,handleEnter:v,handleMouseenter:w,handleClose:S}=dn(p,r,t),j=!h||T.length===0,O=Ne(j),f=Ne(!j),C=R(`${i} ${n}`,{[`${i}--mobile`]:l});g.useEffect(()=>{a&&Me(()=>{var m;(m=c.current)==null||m.focus()})},[a]);const b=J(()=>document.body,[]);return u.jsx(nn,{to:b,children:u.jsx(oe,{classNames:"zoom-fade",in:a,timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:u.jsx("div",k(P({},s),{className:C,onClick:()=>{S()},children:u.jsxs("div",{className:`${i}-content`,children:[u.jsxs("div",{className:`${i}-input__wrapper`,children:[u.jsx(At,{className:`${i}-input`,ref:c,placeholder:o("common.searchText"),allowClear:!0,onChange:x,prefix:u.jsx(Re,{})}),u.jsx("span",{className:`${i}-cancel`,onClick:S,children:o("common.cancelText")})]}),u.jsx("span",{className:`${i}-not-data`,style:O,children:o("component.app.searchNotData")}),u.jsx("ul",{className:`${i}-list`,ref:r,style:f,children:T.map((m,E)=>u.jsxs("li",{ref:d(E),"data-index":E,onMouseEnter:w,onClick:v,className:R(`${i}-list__item`,{[`${i}-list__item--active`]:N===E}),children:[u.jsx("div",{className:`${i}-list__item-icon`,children:u.jsx(M,{icon:m.icon||"mdi:form-select",size:20})}),u.jsx("div",{className:`${i}-list__item-text`,children:m.name}),u.jsx("div",{className:`${i}-list__item-enter`,children:u.jsx(M,{icon:"ant-design:enter-outlined",size:20})})]},m.path))}),u.jsx(an,{})]})}))})})},fn=e=>{const o=e,{className:n}=o,a=L(o,["className"]),{t}=V(),[s,r]=g.useState(!1),c=i=>{r(i)};return u.jsxs(u.Fragment,{children:[u.jsx("div",k(P({},a),{className:`p-1 ${n}`,onClick:()=>c(!0),children:u.jsx($t,{title:t("common.searchText"),children:u.jsx(Re,{})})})),u.jsx(pn,{onClose:()=>c(!1),visible:s})]})},Pn=en,kn=Qt,$n=tn,Mn=fn;export{$n as A,oe as C,Zt as D,kn as a,Pn as b,Xt as c,On as d,Mn as e,Ne as f,cn as g,In as u};
