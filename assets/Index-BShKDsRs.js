import{r as l,b4 as z,b2 as oe,aZ as H,Q as U,M as We,ea as He,R as s,by as Ce,t as T,_ as A,bb as De,n as ye,b5 as Xe,F as fe,S as qe,au as Ge,B as ne,E as Ze,o as Ue,s as Je,p as Qe,bz as Ye,q as k,aQ as ve,eb as Ke,C as xe,aS as et,v as tt,be as nt,bB as ot,bE as rt,j as ee}from"./entry/index-Dbo3_afc-1721993229481.js";import{P as at}from"./index-MqP6Of9r.js";import{T as lt,u as it}from"./useDesign-mHzxmH92.js";import{k as st,l as ct,m as dt,e as ut,n as mt,o as ft}from"./index-CqkgspeZ.js";import"./useMenuSetting-Bic0zQ6z.js";import"./useContentViewHeight-DPbo3hFA.js";import"./useWindowSize-eZwsA2jU.js";import"./debounce-Cvb0dSk9.js";import"./index-fs93L3hp.js";import"./isNumber-Bgt3tinB.js";function pe(t){return t!==null&&oe(t)==="object"}function ge(t,e,n){if(t===!1||e===!1&&(!pe(t)||!t.closeIcon))return null;var o=typeof e!="boolean"?e:void 0;if(pe(t)){var r;return z(z({},t),{},{closeIcon:(r=t.closeIcon)!==null&&r!==void 0?r:o})}return n||t||e?{closeIcon:o}:"empty"}function vt(t,e,n,o){return l.useMemo(function(){var r=ge(t,e,!1),f=ge(n,o,!0);return r!=="empty"?r:f},[n,o,t,e])}function pt(t){var e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,o=t.getBoundingClientRect(),r=o.top,f=o.right,c=o.bottom,a=o.left;return r>=0&&a>=0&&f<=e&&c<=n}function gt(t,e,n){var o;return(o=n!=null?n:e)!==null&&o!==void 0?o:t===null?"center":"bottom"}function ht(t,e,n,o){var r=l.useState(void 0),f=H(r,2),c=f[0],a=f[1];U(function(){var m=typeof t=="function"?t():t;a(m||null)});var g=l.useState(null),h=H(g,2),v=h[0],u=h[1],p=We(function(){if(c){!pt(c)&&e&&c.scrollIntoView(o);var m=c.getBoundingClientRect(),d=m.left,i=m.top,x=m.width,P=m.height,I={left:d,top:i,width:x,height:P,radius:0};u(function(N){return JSON.stringify(N)!==JSON.stringify(I)?I:N})}else u(null)}),b=function(d){var i;return(i=Array.isArray(n==null?void 0:n.offset)?n==null?void 0:n.offset[d]:n==null?void 0:n.offset)!==null&&i!==void 0?i:6};U(function(){return p(),window.addEventListener("resize",p),function(){window.removeEventListener("resize",p)}},[c,e,p]);var C=l.useMemo(function(){if(!v)return v;var m=b(0),d=b(1),i=(n==null?void 0:n.radius)||2;return{left:v.left-m,top:v.top-d,width:v.width+m*2,height:v.height+d*2,radius:i}},[v,n]);return[C,c]}var Z={fill:"transparent",pointerEvents:"auto"},bt=function(e){var n=e.prefixCls,o=e.rootClassName,r=e.pos,f=e.showMask,c=e.style,a=c===void 0?{}:c,g=e.fill,h=g===void 0?"rgba(0,0,0,0.5)":g,v=e.open,u=e.animated,p=e.zIndex,b=e.disabledInteraction,C=He(),m="".concat(n,"-mask-").concat(C),d=oe(u)==="object"?u==null?void 0:u.placeholder:u,i=typeof navigator!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),x=i?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return s.createElement(Ce,{open:v,autoLock:!0},s.createElement("div",{className:T("".concat(n,"-mask"),o),style:z({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:p,pointerEvents:r&&!b?"none":"auto"},a)},f?s.createElement("svg",{style:{width:"100%",height:"100%"}},s.createElement("defs",null,s.createElement("mask",{id:m},s.createElement("rect",A({x:"0",y:"0"},x,{fill:"white"})),r&&s.createElement("rect",{x:r.left,y:r.top,rx:r.radius,width:r.width,height:r.height,fill:"black",className:d?"".concat(n,"-placeholder-animated"):""}))),s.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:h,mask:"url(#".concat(m,")")}),r&&s.createElement(s.Fragment,null,s.createElement("rect",A({},Z,{x:"0",y:"0",width:"100%",height:r.top})),s.createElement("rect",A({},Z,{x:"0",y:"0",width:r.left,height:"100%"})),s.createElement("rect",A({},Z,{x:"0",y:r.top+r.height,width:"100%",height:"calc(100vh - ".concat(r.top+r.height,"px)")})),s.createElement("rect",A({},Z,{x:r.left+r.width,y:"0",width:"calc(100vw - ".concat(r.left+r.width,"px)"),height:"100%"})))):null))},Ct=[0,0],he={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function we(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e={};return Object.keys(he).forEach(function(n){e[n]=z(z({},he[n]),{},{autoArrow:t,targetOffset:Ct})}),e}we();function yt(t){var e,n=t.prefixCls,o=t.current,r=t.total,f=t.title,c=t.description,a=t.onClose,g=t.onPrev,h=t.onNext,v=t.onFinish,u=t.className,p=t.closable,b=De(p||{},!0),C=(e=p==null?void 0:p.closeIcon)!==null&&e!==void 0?e:l.createElement("span",{className:"".concat(n,"-close-x")},"×"),m=!!p;return l.createElement("div",{className:T("".concat(n,"-content"),u)},l.createElement("div",{className:"".concat(n,"-inner")},m&&l.createElement("button",A({type:"button",onClick:a,"aria-label":"Close"},b,{className:"".concat(n,"-close")}),C),l.createElement("div",{className:"".concat(n,"-header")},l.createElement("div",{className:"".concat(n,"-title")},f)),l.createElement("div",{className:"".concat(n,"-description")},c),l.createElement("div",{className:"".concat(n,"-footer")},l.createElement("div",{className:"".concat(n,"-sliders")},r>1?ye(Array.from({length:r}).keys()).map(function(d,i){return l.createElement("span",{key:d,className:i===o?"active":""})}):null),l.createElement("div",{className:"".concat(n,"-buttons")},o!==0?l.createElement("button",{className:"".concat(n,"-prev-btn"),onClick:g},"Prev"):null,o===r-1?l.createElement("button",{className:"".concat(n,"-finish-btn"),onClick:v},"Finish"):l.createElement("button",{className:"".concat(n,"-next-btn"),onClick:h},"Next")))))}var xt=function(e){var n=e.current,o=e.renderPanel;return l.createElement(l.Fragment,null,typeof o=="function"?o(e,n):l.createElement(yt,e))},wt=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],Et={left:"50%",top:"50%",width:1,height:1},be={block:"center",inline:"center"},Pt=function(e){var n=e.prefixCls,o=n===void 0?"rc-tour":n,r=e.steps,f=r===void 0?[]:r,c=e.defaultCurrent,a=e.current,g=e.onChange,h=e.onClose,v=e.onFinish,u=e.open,p=e.mask,b=p===void 0?!0:p,C=e.arrow,m=C===void 0?!0:C,d=e.rootClassName,i=e.placement,x=e.renderPanel,P=e.gap,I=e.animated,N=e.scrollIntoViewOptions,y=N===void 0?be:N,w=e.zIndex,V=w===void 0?1001:w,B=e.closeIcon,J=e.closable,M=e.builtinPlacements,L=e.disabledInteraction,Q=Xe(e,wt),D=l.useRef(),$=fe(0,{value:a,defaultValue:c}),E=H($,2),S=E[0],re=E[1],Ne=fe(void 0,{value:u,postState:function(O){return S<0||S>=f.length?!1:O!=null?O:!0}}),ae=H(Ne,2),_=ae[0],$e=ae[1],le=l.useRef(_);U(function(){_&&!le.current&&re(0),le.current=_},[_]);var R=f[S]||{},Se=R.target,Oe=R.placement,ke=R.style,ie=R.arrow,Te=R.className,Y=R.mask,se=R.scrollIntoViewOptions,K=se===void 0?be:se,Re=R.closeIcon,_e=R.closable,je=vt(_e,Re,J,B),W=_&&(Y!=null?Y:b),Ae=K!=null?K:y,Be=ht(Se,u,P,Ae),ce=H(Be,2),de=ce[0],X=ce[1],Me=gt(X,i,Oe),q=X?typeof ie=="undefined"?m:ie:!1,G=oe(q)==="object"?q.pointAtCenter:!1;U(function(){var j;(j=D.current)===null||j===void 0||j.forceAlign()},[G,S]);var ue=function(O){re(O),g==null||g(O)},ze=l.useMemo(function(){return M?typeof M=="function"?M({arrowPointAtCenter:G}):M:we(G)},[M,G]);if(X===void 0)return null;var me=function(){$e(!1),h==null||h(S)},Ve=function(){return l.createElement(xt,A({arrow:q,key:"content",prefixCls:o,total:f.length,renderPanel:x,onPrev:function(){ue(S-1)},onNext:function(){ue(S+1)},onClose:me,current:S,onFinish:function(){me(),v==null||v()}},f[S],{closable:je}))},Fe=typeof W=="boolean"?W:!!W,F=typeof W=="boolean"?void 0:W,Le=function(O){return O||X||document.body};return l.createElement(l.Fragment,null,l.createElement(bt,{zIndex:V,prefixCls:o,pos:de,showMask:Fe,style:F==null?void 0:F.style,fill:F==null?void 0:F.color,open:_,animated:I,rootClassName:d,disabledInteraction:L}),l.createElement(lt,A({},Q,{builtinPlacements:ze,ref:D,popupStyle:ke,popupPlacement:Me,popupVisible:_,popupClassName:T(d,Te),prefixCls:o,popup:Ve,forceRender:!1,destroyPopupOnHide:!0,zIndex:V,getTriggerDOMNode:Le,arrow:!!q}),l.createElement(Ce,{open:_,autoLock:!0},l.createElement("div",{className:T(d,"".concat(o,"-target-placeholder")),style:z(z({},de||Et),{},{position:"fixed",pointerEvents:"none"})}))))};function te(t){return t!=null}const Ee=t=>{var e,n;const{stepProps:o,current:r,type:f,indicatorsRender:c}=t,{prefixCls:a,total:g=1,title:h,onClose:v,onPrev:u,onNext:p,onFinish:b,cover:C,description:m,nextButtonProps:d,prevButtonProps:i,type:x,closable:P}=o,I=x!=null?x:f,N=s.useMemo(()=>{let E=s.createElement(Ze,{className:`${a}-close-icon`});return P&&P.closeIcon&&(E=P.closeIcon),s.createElement("button",{type:"button",onClick:v,className:`${a}-close`},E)},[P]),y=r===g-1,w=()=>{var E;u==null||u(),(E=i==null?void 0:i.onClick)===null||E===void 0||E.call(i)},V=()=>{var E;y?b==null||b():p==null||p(),(E=d==null?void 0:d.onClick)===null||E===void 0||E.call(d)},B=te(h)?s.createElement("div",{className:`${a}-header`},s.createElement("div",{className:`${a}-title`},h)):null,J=te(m)?s.createElement("div",{className:`${a}-description`},m):null,M=te(C)?s.createElement("div",{className:`${a}-cover`},C):null;let L;c?L=c(r,g):L=ye(Array.from({length:g}).keys()).map((E,S)=>s.createElement("span",{key:E,className:T(S===r&&`${a}-indicator-active`,`${a}-indicator`)}));const Q=I==="primary"?"default":"primary",D={type:"default",ghost:I==="primary"},[$]=qe("Tour",Ge.Tour);return s.createElement("div",{className:`${a}-content`},s.createElement("div",{className:`${a}-inner`},P&&N,M,B,J,s.createElement("div",{className:`${a}-footer`},g>1&&s.createElement("div",{className:`${a}-indicators`},L),s.createElement("div",{className:`${a}-buttons`},r!==0?s.createElement(ne,Object.assign({},D,i,{onClick:w,size:"small",className:T(`${a}-prev-btn`,i==null?void 0:i.className)}),(e=i==null?void 0:i.children)!==null&&e!==void 0?e:$==null?void 0:$.Previous):null,s.createElement(ne,Object.assign({type:Q},d,{onClick:V,size:"small",className:T(`${a}-next-btn`,d==null?void 0:d.className)}),(n=d==null?void 0:d.children)!==null&&n!==void 0?n:y?$==null?void 0:$.Finish:$==null?void 0:$.Next)))))},It=t=>{const{componentCls:e,lineHeight:n,padding:o,paddingXS:r,borderRadius:f,borderRadiusXS:c,colorPrimary:a,colorText:g,colorFill:h,indicatorHeight:v,indicatorWidth:u,boxShadowTertiary:p,tourZIndexPopup:b,fontSize:C,colorBgElevated:m,fontWeightStrong:d,marginXS:i,colorTextLightSolid:x,tourBorderRadius:P,colorWhite:I,primaryNextBtnHoverBg:N,closeBtnSize:y,motionDurationSlow:w,antCls:V,primaryPrevBtnBg:B}=t;return[{[e]:Object.assign(Object.assign({},Qe(t)),{color:g,position:"absolute",zIndex:b,display:"block",visibility:"visible",fontSize:C,lineHeight:n,width:520,"--antd-arrow-background-color":m,"&-pure":{maxWidth:"100%",position:"relative"},[`&${e}-hidden`]:{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:P,boxShadow:p,position:"relative",backgroundColor:m,border:"none",backgroundClip:"padding-box",[`${e}-close`]:Object.assign({position:"absolute",top:o,insetInlineEnd:o,color:t.colorIcon,background:"none",border:"none",width:y,height:y,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},Ye(t)),[`${e}-cover`]:{textAlign:"center",padding:`${k(t.calc(o).add(y).add(r).equal())} ${k(o)} 0`,img:{width:"100%"}},[`${e}-header`]:{padding:`${k(o)} ${k(o)} ${k(r)}`,[`${e}-title`]:{lineHeight:n,fontSize:C,fontWeight:d}},[`${e}-description`]:{padding:`0 ${k(o)}`,lineHeight:n,wordWrap:"break-word"},[`${e}-footer`]:{padding:`${k(r)} ${k(o)} ${k(o)}`,textAlign:"end",borderRadius:`0 0 ${k(c)} ${k(c)}`,display:"flex",[`${e}-indicators`]:{display:"inline-block",[`${e}-indicator`]:{width:u,height:v,display:"inline-block",borderRadius:"50%",background:h,"&:not(:last-child)":{marginInlineEnd:v},"&-active":{background:a}}},[`${e}-buttons`]:{marginInlineStart:"auto",[`${V}-btn`]:{marginInlineStart:i}}}},[`${e}-primary, &${e}-primary`]:{"--antd-arrow-background-color":a,[`${e}-inner`]:{color:x,textAlign:"start",textDecoration:"none",backgroundColor:a,borderRadius:f,boxShadow:p,[`${e}-close`]:{color:x},[`${e}-indicators`]:{[`${e}-indicator`]:{background:B,"&-active":{background:x}}},[`${e}-prev-btn`]:{color:x,borderColor:B,backgroundColor:a,"&:hover":{backgroundColor:B,borderColor:"transparent"}},[`${e}-next-btn`]:{color:a,borderColor:"transparent",background:I,"&:hover":{background:N}}}}}),[`${e}-mask`]:{[`${e}-placeholder-animated`]:{transition:`all ${w}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:t.min(P,st)}}},ct(t,"var(--antd-arrow-background-color)")]},Nt=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70,closeBtnSize:t.fontSize*t.lineHeight,primaryPrevBtnBg:new ve(t.colorTextLightSolid).setAlpha(.15).toRgbString(),primaryNextBtnHoverBg:new ve(t.colorBgTextHover).onBackground(t.colorWhite).toRgbString()},dt({contentRadius:t.borderRadiusLG,limitVerticalRadius:!0})),ut(t)),Pe=Ue("Tour",t=>{const{borderRadiusLG:e}=t,n=Je(t,{indicatorWidth:6,indicatorHeight:6,tourBorderRadius:e});return[It(n)]},Nt);var $t=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};const St=t=>{const{prefixCls:e,current:n=0,total:o=6,className:r,style:f,type:c,closable:a,closeIcon:g}=t,h=$t(t,["prefixCls","current","total","className","style","type","closable","closeIcon"]),{getPrefixCls:v}=l.useContext(xe),u=v("tour",e),[p,b,C]=Pe(u),[m,d]=et({closable:a,closeIcon:g},null,{closable:!0,closeIconRender:i=>l.isValidElement(i)?tt(i,{className:T(i.props.className,`${u}-close-icon`)}):i});return p(l.createElement(mt,{prefixCls:u,hashId:b,className:T(r,`${u}-pure`,c&&`${u}-${c}`,C),style:f},l.createElement(Ee,{stepProps:Object.assign(Object.assign({},h),{prefixCls:u,total:o,closable:m?{closeIcon:d}:void 0}),current:n,type:c})))},Ot=Ke(St);var kt=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};const Ie=t=>{const{prefixCls:e,type:n,rootClassName:o,indicatorsRender:r,steps:f,closeIcon:c}=t,a=kt(t,["prefixCls","type","rootClassName","indicatorsRender","steps","closeIcon"]),{getPrefixCls:g,direction:h,tour:v}=l.useContext(xe),u=g("tour",e),[p,b,C]=Pe(u),[,m]=nt(),d=s.useMemo(()=>f==null?void 0:f.map(y=>{var w;return Object.assign(Object.assign({},y),{className:T(y.className,{[`${u}-primary`]:((w=y.type)!==null&&w!==void 0?w:n)==="primary"})})}),[f,n]),i=y=>{var w;return ft({arrowPointAtCenter:(w=y==null?void 0:y.arrowPointAtCenter)!==null&&w!==void 0?w:!0,autoAdjustOverflow:!0,offset:m.marginXXS,arrowWidth:m.sizePopupArrow,borderRadius:m.borderRadius})},x=T({[`${u}-rtl`]:h==="rtl"},b,C,o),P=(y,w)=>s.createElement(Ee,{type:n,stepProps:y,current:w,indicatorsRender:r}),[I,N]=ot("Tour",a.zIndex);return p(s.createElement(rt.Provider,{value:N},s.createElement(Pt,Object.assign({},a,{closeIcon:c!=null?c:v==null?void 0:v.closeIcon,zIndex:I,rootClassName:x,prefixCls:u,animated:!0,renderPanel:P,builtinPlacements:i,steps:d}))))};Ie._InternalPanelDoNotUseOrYouWillBeFired=Ot;const Lt=()=>{const[t,e]=l.useState(0),[n,o]=l.useState(!1),{prefixVar:r}=it(""),f=[{title:"Welcome",description:"Hello World! 👋"},{title:"Collapse Button",description:"This is the menu collapse button.",target:()=>document.querySelector(`.${r}-layout-header-trigger`)},{title:"User Action",description:"This is the user function area.",target:()=>document.querySelector(`.${r}-layout-header-action`)}],c=g=>{e(0),o(g)},a=g=>{e(g)};return ee.jsxs(at,{title:"引导页",content:"用于给用户的指引操作",children:[ee.jsx(ne,{type:"primary",onClick:()=>c(!0),children:"开始"}),ee.jsx(Ie,{current:t,open:n,steps:f,onClose:()=>c(!1),onChange:a})]})};export{Lt as default};
